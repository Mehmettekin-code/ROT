<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CS Scripter</title>
<style>
    body {
        background: #0f0f0f;
        color: white;
        font-family: Arial, sans-serif;
        margin: 0;
    }
    .loader {
        position: fixed;
        top:0; left:0;
        width:100%; height:100%;
        background:#0f0f0f;
        display:flex; justify-content:center; align-items:center;
        flex-direction:column;
        font-size: 1.5rem;
    }
    .dot {
        width: 10px; height: 10px;
        background: #00ff88;
        border-radius: 50%;
        margin: 5px;
        animation: bounce 0.6s infinite alternate;
    }
    .dot:nth-child(2) { animation-delay: 0.2s; }
    .dot:nth-child(3) { animation-delay: 0.4s; }
    @keyframes bounce {
        to { transform: translateY(-10px); }
    }
    .captcha {
        display:none;
        text-align:center;
        padding:20px;
    }
    .main {
        display:none;
        padding:20px;
    }
    .script-item {
        background: #1a1a1a;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 10px;
    }
    input[type=text] {
        padding: 8px;
        border-radius: 5px;
        border: none;
        margin-bottom: 10px;
        width: 100%;
    }
    button {
        padding: 10px;
        background: #00ff88;
        color: black;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover {
        background: #00cc66;
    }
</style>
</head>
<body>

<div class="loader" id="loader">
    <div style="display:flex;">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
    <p>Ping ölçülüyor...</p>
</div>

<div class="captcha" id="captcha">
    <h2>Bot olmadığını kanıtla</h2>
    <p id="captchaCode" style="font-size: 1.2rem; letter-spacing: 3px;"></p>
    <input type="text" id="captchaInput" placeholder="Kodu buraya yaz">
    <br>
    <button onclick="checkCaptcha()">Doğrula</button>
</div>

<div class="main" id="main">
    <h1>CS Scripter</h1>
    <input type="text" id="search" placeholder="Script ara..." oninput="searchScripts()">
    <div id="scriptList">Scriptler yükleniyor...</div>
</div>

<script>
let captchaText = "";

function measurePing() {
    let start = Date.now();
    fetch("https://api.allorigins.win/raw?url=https%3A%2F%2Fscriptblox.com")
        .then(() => {
            let ping = Date.now() - start;
            setTimeout(() => {
                document.getElementById("loader").style.display = "none";
                showCaptcha();
            }, ping < 500 ? 1000 : 2000);
        });
}

function showCaptcha() {
    captchaText = Math.random().toString(36).substring(2, 8).toUpperCase();
    document.getElementById("captchaCode").innerText = captchaText;
    document.getElementById("captcha").style.display = "block";
}

function checkCaptcha() {
    let input = document.getElementById("captchaInput").value.toUpperCase();
    if (input === captchaText) {
        document.getElementById("captcha").style.display = "none";
        document.getElementById("main").style.display = "block";
        loadScripts();
    } else {
        alert("Kod yanlış, tekrar dene.");
    }
}

function loadScripts(query = "roblox") {
    let url = "https://scriptblox.com/api/script/search?q=" + encodeURIComponent(query);
    fetch("https://api.allorigins.win/raw?url=" + encodeURIComponent(url))
        .then(res => res.json())
        .then(data => {
            let container = document.getElementById("scriptList");
            container.innerHTML = "";
            if (!data.result || !data.result.scripts || data.result.scripts.length === 0) {
                container.innerHTML = "Script bulunamadı.";
                return;
            }
            data.result.scripts.forEach(script => {
                let div = document.createElement("div");
                div.className = "script-item";
                div.innerHTML = `<h3>${script.title}</h3>
                                 <p>${script.game ? script.game.name : ""}</p>
                                 <pre>${script.script || "Kod bulunamadı"}</pre>`;
                container.appendChild(div);
            });
        })
        .catch(err => {
            document.getElementById("scriptList").innerText = "Scriptler yüklenemedi.";
        });
}

function searchScripts() {
    let input = document.getElementById("search").value;
    loadScripts(input);
}

measurePing();
</script>

</body>
</html>
